{"version":3,"file":"../cart.js","names":["cart","document","getElementsByClassName","length","vatValue","addInputListener","input","row","parentElement","overallPriceElement","querySelector","price","parseFloat","innerText","replace","calcEvent","this","value","toFixed","toString","pricegoods","querySelectorAll","result_f","Array","from","reduce","sum","spanElm","Number","textContent","getElementById","addEventListener","call","recountCart","inputs","i","recountDeliveryCart","elms","deliveryCart","pricedel","deliveryprice","delp","productprice","pricecart2","ia","toggleReg","toggleAttribute","onclick","e","t","removeAttribute"],"sources":["cart.js"],"sourcesContent":["var cart = document.getElementsByClassName('cart-content');\r\n\r\nif (cart.length>0){\r\n\r\n\r\n    var vatValue = 1.21;\r\n\r\n    /* CART 1 */\r\n\r\n    function addInputListener(input) {\r\n\r\n        let row = input.parentElement.parentElement.parentElement;\r\n        \r\n        let overallPriceElement = row.querySelector('.cart-item-price span');\r\n        let price = parseFloat(row.querySelector('.cart-item-price-pc span').innerText.replace(/,/g, '.')); \r\n\r\n\r\n\r\n\r\n        let calcEvent = function() {\r\n\r\n            if (this.value > 0) {\r\n                overallPriceElement.innerText = parseFloat((price * this.value).toFixed(2)).toString();\r\n            } else {\r\n                overallPriceElement.innerText = \"0\";\r\n            }\r\n\r\n\r\n\r\n            let pricegoods = document.querySelectorAll('.cart-item-price span');\r\n            let result = Array.from(pricegoods).reduce((sum, spanElm) => sum + Number(spanElm.textContent), 0);\r\n\r\n            let result_f = result.toFixed(2);\r\n            document.getElementById('goodsprice').innerText = parseFloat(result_f).toString().replace(/\\./g, ',');\r\n            document.getElementById('goodspriceDPH').innerText = parseFloat((result_f*vatValue).toFixed(2)).toString().replace(/\\./g, ',');\r\n        \r\n\r\n        };\r\n        \r\n\r\n        input.addEventListener('change', calcEvent);\r\n        calcEvent.call(input);\r\n\r\n    }\r\n\r\n    function recountCart(){\r\n        let inputs = document.querySelectorAll('.cart-item-stepper .num_items');\r\n\r\n        for (let i = 0; i < inputs.length; i++) {\r\n            let input = inputs[i];\r\n            addInputListener(input);\r\n        }\r\n    \r\n    }\r\n    recountCart();\r\n\r\n\r\n\r\n\r\n\r\n    /* CART 2 */\r\n    \r\n\r\n    function recountDeliveryCart(){\r\n    var elms = document.querySelectorAll('.cart-table-shipping-item');\r\n\r\n    function deliveryCart() {\r\n        let pricedel = document.querySelectorAll('.cart-table-shipping-item input:checked ~ .cart-table-shipping-price span');\r\n        let deliveryprice = Array.from(pricedel).reduce((sum, spanElm) => sum + Number(spanElm.textContent), 0); \r\n\r\n        \r\n        var delp = parseFloat((deliveryprice).toFixed(2));\r\n        document.getElementById('delprice').innerText = delp;        \r\n\r\n\r\n        var productprice = parseFloat(document.getElementById('goodsprice').innerText.replace(/,/g, '.'));\r\n        var pricecart2 = parseFloat((deliveryprice + productprice).toFixed(2));\r\n        document.getElementById('sumprice').innerText = pricecart2;\r\n        document.getElementById('vatsumprice').innerText = parseFloat(((pricecart2)*vatValue).toFixed(2));\r\n    };\r\n\r\n    for (var ia = 0; ia < elms.length; ia++) {\r\n        elms[ia].addEventListener('click', deliveryCart, false);\r\n    }\r\n    }\r\n    recountDeliveryCart();\r\n\r\n\r\n\r\n\r\n\r\n    /* CART 3 */\r\n    if(document.getElementById('cart-form-user')){\r\n        function toggleReg() {\r\n            document.getElementById(\"cart-register-password\").toggleAttribute(\"required\"),\r\n            document.getElementById(\"cart-register-password\").toggleAttribute(\"disabled\")\r\n        }\r\n        document.getElementById(\"cart-register\").onclick = function() {\r\n            toggleReg();\r\n        }\r\n        if(document.getElementById(\"cart-fa-address\")){\r\n            document.getElementById(\"cart-fa-address\").onclick = function() {\r\n                for (var e = document.querySelectorAll(\"#cart-fa-address + div > .form-group:not(.--checkbox) > input:not(#cart-fa-name)\"), t = 0; t < e.length; ++t)\r\n                    e[t].toggleAttribute(\"required\")\r\n            }\r\n        }\r\n\r\n        document.getElementById(\"cart-fa-company\").onclick = function() {\r\n            for (var e = document.querySelectorAll(\"#cart-fa-company + div input\"), t = 0; t < e.length; ++t){\r\n                e[t].toggleAttribute(\"required\");\r\n            }\r\n            document.getElementById(\"fakturacni_jmeno\").toggleAttribute(\"required\");\r\n            document.getElementById(\"dic\").removeAttribute(\"required\");\r\n        } \r\n    }\r\n\r\n\r\n\r\n\r\n\r\n\r\n}"],"mappings":"AAAA,IAAIA,KAAOC,SAASC,uBAAuB,gBAE3C,GAAIF,KAAKG,OAAO,EAAE,CAGd,IAAIC,SAAW,KAIf,SAASC,iBAAiBC,OAEtB,IAAIC,IAAMD,MAAME,cAAcA,cAAcA,cAExCC,oBAAsBF,IAAIG,cAAc,yBACxCC,MAAQC,WAAWL,IAAIG,cAAc,4BAA4BG,UAAUC,QAAQ,KAAM,MAKzFC,UAAY,WAERC,KAAKC,MAAQ,EACbR,oBAAoBI,UAAYD,YAAYD,MAAQK,KAAKC,OAAOC,QAAQ,IAAIC,WAE5EV,oBAAoBI,UAAY,IAKpC,IAAIO,WAAanB,SAASoB,iBAAiB,yBAGvCC,SAFSC,MAAMC,KAAKJ,YAAYK,QAAO,CAACC,IAAKC,UAAYD,IAAME,OAAOD,QAAQE,cAAc,GAE1EX,QAAQ,GAC9BjB,SAAS6B,eAAe,cAAcjB,UAAYD,WAAWU,UAAUH,WAAWL,QAAQ,MAAO,KACjGb,SAAS6B,eAAe,iBAAiBjB,UAAYD,YAAYU,SAASlB,UAAUc,QAAQ,IAAIC,WAAWL,QAAQ,MAAO,IAG9H,EAGAR,MAAMyB,iBAAiB,SAAUhB,WACjCA,UAAUiB,KAAK1B,MAEnB,CAEA,SAAS2B,cACL,IAAIC,OAASjC,SAASoB,iBAAiB,iCAEvC,IAAK,IAAIc,EAAI,EAAGA,EAAID,OAAO/B,OAAQgC,IAAK,CAEpC9B,iBADY6B,OAAOC,GAEvB,CAEJ,CAUA,SAASC,sBACT,IAAIC,KAAOpC,SAASoB,iBAAiB,6BAErC,SAASiB,eACL,IAAIC,SAAWtC,SAASoB,iBAAiB,6EACrCmB,cAAgBjB,MAAMC,KAAKe,UAAUd,QAAO,CAACC,IAAKC,UAAYD,IAAME,OAAOD,QAAQE,cAAc,GAGrG,IAAIY,KAAO7B,WAAW,cAAgBM,QAAQ,IAC9CjB,SAAS6B,eAAe,YAAYjB,UAAY4B,KAGhD,IAAIC,aAAe9B,WAAWX,SAAS6B,eAAe,cAAcjB,UAAUC,QAAQ,KAAM,MACxF6B,WAAa/B,YAAY4B,cAAgBE,cAAcxB,QAAQ,IACnEjB,SAAS6B,eAAe,YAAYjB,UAAY8B,WAChD1C,SAAS6B,eAAe,eAAejB,UAAYD,YAAY,WAAaR,UAAUc,QAAQ,GAClG,CAEA,IAAK,IAAI0B,GAAK,EAAGA,GAAKP,KAAKlC,OAAQyC,KAC/BP,KAAKO,IAAIb,iBAAiB,QAASO,cAAc,EAErD,CAQA,GAtCAL,cA+BAG,sBAOGnC,SAAS6B,eAAe,kBAAkB,CACzC,SAASe,YACL5C,SAAS6B,eAAe,0BAA0BgB,gBAAgB,YAClE7C,SAAS6B,eAAe,0BAA0BgB,gBAAgB,WACtE,CACA7C,SAAS6B,eAAe,iBAAiBiB,QAAU,WAC/CF,WACJ,EACG5C,SAAS6B,eAAe,qBACvB7B,SAAS6B,eAAe,mBAAmBiB,QAAU,WACjD,IAAK,IAAIC,EAAI/C,SAASoB,iBAAiB,oFAAqF4B,EAAI,EAAGA,EAAID,EAAE7C,SAAU8C,EAC/ID,EAAEC,GAAGH,gBAAgB,WAC7B,GAGJ7C,SAAS6B,eAAe,mBAAmBiB,QAAU,WACjD,IAAK,IAAIC,EAAI/C,SAASoB,iBAAiB,gCAAiC4B,EAAI,EAAGA,EAAID,EAAE7C,SAAU8C,EAC3FD,EAAEC,GAAGH,gBAAgB,YAEzB7C,SAAS6B,eAAe,oBAAoBgB,gBAAgB,YAC5D7C,SAAS6B,eAAe,OAAOoB,gBAAgB,WACnD,CACJ,CAOJ"}